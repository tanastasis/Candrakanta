<div class="p-3 border border-slate-600 rounded-lg bg-slate-800/90 shadow-lg text-slate-200">
  <div class="font-semibold mb-2 text-slate-100">Lexemes:</div>

  <div class="mb-3 max-h-32 overflow-y-auto">  <!-- Уменьшил высоту, чтобы места хватило на Rules -->
    {% if lexemes %}
      <div class="flex flex-wrap gap-1 text-base">
        {% for l in lexemes %}
          <span class="inline-flex items-center px-2 py-1 bg-slate-700 border border-slate-600 rounded text-slate-200">
            <a class="underline hover:text-amber-300" 
               href="/lexeme/{{ l.name }}"
               title="{{ l.meaning or '' }}">
              {{ l.dictform or l.name }}
            </a>
          </span>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-slate-400">None found</div>
    {% endif %}
  </div>

  <div class="border-t border-slate-600 pt-2">  <!-- Разделитель -->
    <div class="font-semibold mb-2 text-slate-100">Rules:</div>
    <div class="max-h-32 overflow-y-auto text-base">  <!-- Скролл для правил, если много -->
      {% if rules %}
        <div class="flex flex-wrap gap-1">  <!-- Как для лексем: badges через gap (как запятые) -->
          {% for ru in rules %}
            <span class="inline-flex items-center px-2 py-1 bg-slate-700 border border-slate-600 rounded text-slate-200">
              <a class="underline hover:text-amber-300" 
                 href="/rules#rule-{{ ru.id }}"
                 title="{{ ru.wording | e }}">
                {{ ru.id }}
              </a>
            </span>
          {% endfor %}
        </div>
      {% else %}
        <div class="text-slate-400">None found</div>
      {% endif %}
    </div>
  </div>
</div>